{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CameraItem=_ref=>{let{camera,onStartFeed,onStopFeed,onEdit,onDelete}=_ref;const[showMenu,setShowMenu]=useState(false);const menuRef=useRef(null);// Close on outside click\nuseEffect(()=>{const handleClickOutside=e=>{if(menuRef.current&&!menuRef.current.contains(e.target)){setShowMenu(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>document.removeEventListener(\"mousedown\",handleClickOutside);},[]);const handleEditClick=()=>{setShowMenu(false);onEdit(camera);// <- send full camera to App\n};const handleDeleteClick=()=>{setShowMenu(false);onDelete(camera.id);};return/*#__PURE__*/_jsxs(\"div\",{className:\"camera-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"camera-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"camera-name\",children:camera.name}),/*#__PURE__*/_jsx(\"div\",{className:\"camera-ip\",children:camera.ip})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"camera-controls\",children:[!camera.isLive?/*#__PURE__*/_jsx(\"button\",{onClick:()=>onStartFeed(camera),className:\"control-btn start-btn\",title:\"Start Feed\",children:\"\\u25B6\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>onStopFeed(camera.id),className:\"control-btn stop-btn\",title:\"Stop Feed\",children:\"\\u25A0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",ref:menuRef,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMenu(prev=>!prev),className:\"control-btn menu-btn\",title:\"Menu\",children:\"\\u22EE\"}),showMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"menu-content\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEditClick,className:\"menu-item edit-item\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteClick,className:\"menu-item delete-item\",children:\"Delete\"})]})]})]})]});};export default CameraItem;","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","CameraItem","_ref","camera","onStartFeed","onStopFeed","onEdit","onDelete","showMenu","setShowMenu","menuRef","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","handleEditClick","handleDeleteClick","id","className","children","name","ip","isLive","onClick","title","ref","prev"],"sources":["/home/owlytics/Desktop/Grow AI/frontend/src/components/CameraItem.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\n\r\nconst CameraItem = ({ camera, onStartFeed, onStopFeed, onEdit, onDelete }) => {\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const menuRef = useRef(null);\r\n\r\n  // Close on outside click\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\r\n        setShowMenu(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  const handleEditClick = () => {\r\n    setShowMenu(false);\r\n    onEdit(camera); // <- send full camera to App\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    setShowMenu(false);\r\n    onDelete(camera.id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"camera-item\">\r\n      <div className=\"camera-info\">\r\n        <div className=\"camera-name\">{camera.name}</div>\r\n        <div className=\"camera-ip\">{camera.ip}</div>\r\n      </div>\r\n      <div className=\"camera-controls\">\r\n        {!camera.isLive ? (\r\n          <button\r\n            onClick={() => onStartFeed(camera)}\r\n            className=\"control-btn start-btn\"\r\n            title=\"Start Feed\"\r\n          >\r\n            ▶\r\n          </button>\r\n        ) : (\r\n          <button\r\n            onClick={() => onStopFeed(camera.id)}\r\n            className=\"control-btn stop-btn\"\r\n            title=\"Stop Feed\"\r\n          >\r\n            ■\r\n          </button>\r\n        )}\r\n\r\n        <div className=\"dropdown-menu\" ref={menuRef}>\r\n          <button\r\n            onClick={() => setShowMenu((prev) => !prev)}\r\n            className=\"control-btn menu-btn\"\r\n            title=\"Menu\"\r\n          >\r\n            ⋮\r\n          </button>\r\n          {showMenu && (\r\n            <div className=\"menu-content\">\r\n              <button onClick={handleEditClick} className=\"menu-item edit-item\">\r\n                Edit\r\n              </button>\r\n              <button\r\n                onClick={handleDeleteClick}\r\n                className=\"menu-item delete-item\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CameraItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}