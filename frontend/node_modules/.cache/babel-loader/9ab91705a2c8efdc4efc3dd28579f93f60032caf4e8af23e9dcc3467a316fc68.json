{"ast":null,"code":"import _objectSpread from\"/home/owlytics/Desktop/Grow AI/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE=\"http://localhost:8000\";const CameraForm=_ref=>{let{onSave,onCancel,initialData=null,onTestSuccess}=_ref;const[formData,setFormData]=useState({name:\"\",ip:\"\",username:\"\",password:\"\",port:\"554\",// Default RTSP port\nrtspUrl:\"\"});const[testStatus,setTestStatus]=useState(null);const[isTesting,setIsTesting]=useState(false);const[showPassword,setShowPassword]=useState(false);useEffect(()=>{if(initialData){setFormData({name:initialData.name||\"\",ip:initialData.ip||\"\",username:initialData.username||\"\",password:initialData.password||\"\",port:initialData.port||\"554\",rtspUrl:initialData.rtspUrl||\"\"});}else{setFormData({name:\"\",ip:\"\",username:\"\",password:\"\",port:\"554\",rtspUrl:\"\"});}},[initialData]);const generateRTSPUrl=data=>{const{username,password,ip,port}=data;if(username&&password&&ip&&port){// ENCODE username and password for RTSP URL\nconst encodedUsername=encodeURIComponent(username);const encodedPassword=encodeURIComponent(password);return\"rtsp://\".concat(encodedUsername,\":\").concat(encodedPassword,\"@\").concat(ip,\":\").concat(port,\"/Streaming/Channels/101\");}return\"\";};const handleChange=e=>{const{name,value}=e.target;const updated=_objectSpread(_objectSpread({},formData),{},{[name]:value});if([\"username\",\"password\",\"ip\",\"port\"].includes(name)){updated.rtspUrl=generateRTSPUrl(updated);}setFormData(updated);};const handleRefreshUrl=()=>{const newUrl=generateRTSPUrl(formData);if(newUrl){setFormData(_objectSpread(_objectSpread({},formData),{},{rtspUrl:newUrl}));}};const handleTest=async()=>{const{username,password,rtspUrl,port}=formData;if(!username||!password||!rtspUrl){setTestStatus({success:false,message:\"Please enter Username, Password and RTSP URL.\"});return;}// Validate port\nif(port===\"8000\"){setTestStatus({success:false,message:\"Port 8000 is for the web server. Camera RTSP typically uses port 554.\"});return;}if(!rtspUrl.toLowerCase().startsWith(\"rtsp://\")){setTestStatus({success:false,message:\"Invalid RTSP URL. It must start with rtsp://\"});return;}setIsTesting(true);setTestStatus({success:null,message:\"Testing connection...\"});try{const response=await fetch(\"\".concat(API_BASE,\"/test-camera\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({rtspUrl:formData.rtspUrl})});const data=await response.json();if(data.success){setTestStatus({success:true,message:data.message||\"Connected Successfully\"});if(typeof onTestSuccess===\"function\"){onTestSuccess(formData);}}else{setTestStatus({success:false,message:data.message||\"Error: Not Connected\"});}}catch(error){setTestStatus({success:false,message:\"Server error: Unable to test camera\"});}finally{setIsTesting(false);}};const handleSubmit=e=>{e.preventDefault();// Final validation\nif(formData.port===\"8000\"){alert(\"Port 8000 is for the web server. Camera RTSP typically uses port 554.\");return;}if(!formData.name||!formData.ip||!formData.rtspUrl){alert(\"Please fill in all required fields\");return;}onSave(formData);};return/*#__PURE__*/_jsxs(\"form\",{className:\"camera-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Camera Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Enter camera name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Camera IP\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ip\",value:formData.ip,onChange:handleChange,placeholder:\"Enter camera ip\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:formData.username,onChange:handleChange,placeholder:\"Enter camera username\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"password-toggle\",onClick:()=>setShowPassword(prev=>!prev),children:showPassword?\"ðŸ”“\":\"ðŸ”’\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Port\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"port\",value:formData.port,onChange:handleChange,min:\"1\",max:\"65535\",placeholder:\"554\",required:true,style:{backgroundColor:\"#f9f9f9\"}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"12px\",color:\"#666\",marginTop:\"4px\"}}),formData.port===\"8000\"&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"orange\",fontSize:\"12px\",marginTop:\"4px\"}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"RTSP URL\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"url-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"rtspUrl\",value:formData.rtspUrl,onChange:handleChange,placeholder:\"rtsp://admin:password@192.168.x.x:554/...\",required:true,readOnly:true,style:{backgroundColor:\"#f5f5f5\",cursor:\"not-allowed\"}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"refresh-btn\",onClick:handleRefreshUrl,title:\"Generate RTSP URL\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"refresh-icon\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"status-message-area \".concat(testStatus?'has-status':''),children:testStatus&&/*#__PURE__*/_jsx(\"div\",{className:\"status-message-box\",children:testStatus.success===true?/*#__PURE__*/_jsxs(\"span\",{className:\"status-success\",children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px'},children:\"\\u2714\"}),testStatus.message]}):testStatus.success===false?/*#__PURE__*/_jsxs(\"span\",{className:\"status-error\",children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px'},children:\"\\u2718\"}),testStatus.message]}):/*#__PURE__*/_jsx(\"span\",{children:testStatus.message})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"test-btn\",onClick:handleTest,disabled:isTesting||!formData.rtspUrl,children:\"Test\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-btn\",onClick:onCancel,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"save-btn\",children:\"Save\"})]})]});};export default CameraForm;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","API_BASE","CameraForm","_ref","onSave","onCancel","initialData","onTestSuccess","formData","setFormData","name","ip","username","password","port","rtspUrl","testStatus","setTestStatus","isTesting","setIsTesting","showPassword","setShowPassword","generateRTSPUrl","data","encodedUsername","encodeURIComponent","encodedPassword","concat","handleChange","e","value","target","updated","_objectSpread","includes","handleRefreshUrl","newUrl","handleTest","success","message","toLowerCase","startsWith","response","fetch","method","headers","body","JSON","stringify","json","error","handleSubmit","preventDefault","alert","className","onSubmit","children","type","onChange","placeholder","required","onClick","prev","min","max","style","backgroundColor","fontSize","color","marginTop","readOnly","cursor","title","viewBox","fill","d","disabled"],"sources":["/home/owlytics/Desktop/Grow AI/frontend/src/components/CameraForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst API_BASE = \"http://localhost:8000\";\r\n\r\nconst CameraForm = ({ onSave, onCancel, initialData = null, onTestSuccess }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    ip: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    port: \"554\", // Default RTSP port\r\n    rtspUrl: \"\",\r\n  });\r\n\r\n  const [testStatus, setTestStatus] = useState(null);\r\n  const [isTesting, setIsTesting] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setFormData({\r\n        name: initialData.name || \"\",\r\n        ip: initialData.ip || \"\",\r\n        username: initialData.username || \"\",\r\n        password: initialData.password || \"\",\r\n        port: initialData.port || \"554\",\r\n        rtspUrl: initialData.rtspUrl || \"\",\r\n      });\r\n    } else {\r\n      setFormData({\r\n        name: \"\",\r\n        ip: \"\",\r\n        username: \"\",\r\n        password: \"\",\r\n        port: \"554\",\r\n        rtspUrl: \"\",\r\n      });\r\n    }\r\n  }, [initialData]);\r\n\r\n  const generateRTSPUrl = (data) => {\r\n    const { username, password, ip, port } = data;\r\n    if (username && password && ip && port) {\r\n      // ENCODE username and password for RTSP URL\r\n      const encodedUsername = encodeURIComponent(username);\r\n      const encodedPassword = encodeURIComponent(password);\r\n      return `rtsp://${encodedUsername}:${encodedPassword}@${ip}:${port}/Streaming/Channels/101`;\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    const updated = { ...formData, [name]: value };\r\n\r\n    if ([\"username\", \"password\", \"ip\", \"port\"].includes(name)) {\r\n      updated.rtspUrl = generateRTSPUrl(updated);\r\n    }\r\n\r\n    setFormData(updated);\r\n  };\r\n\r\n  const handleRefreshUrl = () => {\r\n    const newUrl = generateRTSPUrl(formData);\r\n    if (newUrl) {\r\n      setFormData({ ...formData, rtspUrl: newUrl });\r\n    }\r\n  };\r\n\r\n  const handleTest = async () => {\r\n    const { username, password, rtspUrl, port } = formData;\r\n\r\n    if (!username || !password || !rtspUrl) {\r\n      setTestStatus({\r\n        success: false,\r\n        message: \"Please enter Username, Password and RTSP URL.\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Validate port\r\n    if (port === \"8000\") {\r\n      setTestStatus({\r\n        success: false,\r\n        message: \"Port 8000 is for the web server. Camera RTSP typically uses port 554.\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!rtspUrl.toLowerCase().startsWith(\"rtsp://\")) {\r\n      setTestStatus({\r\n        success: false,\r\n        message: \"Invalid RTSP URL. It must start with rtsp://\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsTesting(true);\r\n    setTestStatus({\r\n      success: null,\r\n      message: \"Testing connection...\",\r\n    });\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/test-camera`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          rtspUrl: formData.rtspUrl,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        setTestStatus({\r\n          success: true,\r\n          message: data.message || \"Connected Successfully\",\r\n        });\r\n\r\n        if (typeof onTestSuccess === \"function\") {\r\n          onTestSuccess(formData);\r\n        }\r\n      } else {\r\n        setTestStatus({\r\n          success: false,\r\n          message: data.message || \"Error: Not Connected\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      setTestStatus({\r\n        success: false,\r\n        message: \"Server error: Unable to test camera\",\r\n      });\r\n    } finally {\r\n      setIsTesting(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Final validation\r\n    if (formData.port === \"8000\") {\r\n      alert(\"Port 8000 is for the web server. Camera RTSP typically uses port 554.\");\r\n      return;\r\n    }\r\n    \r\n    if (!formData.name || !formData.ip || !formData.rtspUrl) {\r\n      alert(\"Please fill in all required fields\");\r\n      return;\r\n    }\r\n    \r\n    onSave(formData);\r\n  };\r\n\r\n  return (\r\n    <form className=\"camera-form\" onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <label>Camera Name</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={formData.name}\r\n          onChange={handleChange}\r\n          placeholder=\"Enter camera name\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Camera IP</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"ip\"\r\n          value={formData.ip}\r\n          onChange={handleChange}\r\n          placeholder=\"Enter camera ip\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Username</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={formData.username}\r\n          onChange={handleChange}\r\n          placeholder=\"Enter camera username\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Password</label>\r\n        <div className=\"password-input-wrapper\">\r\n          <input\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            name=\"password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            className=\"password-toggle\"\r\n            onClick={() => setShowPassword((prev) => !prev)}\r\n          >\r\n            {showPassword ? \"ðŸ”“\" : \"ðŸ”’\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Port</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"port\"\r\n          value={formData.port}\r\n          onChange={handleChange}\r\n          min=\"1\"\r\n          max=\"65535\"\r\n          placeholder=\"554\"\r\n          required\r\n          style={{ backgroundColor: \"#f9f9f9\" }}\r\n        />\r\n        <div style={{ fontSize: \"12px\", color: \"#666\", marginTop: \"4px\" }}>\r\n        </div>\r\n        {formData.port === \"8000\" && (\r\n          <div style={{ color: \"orange\", fontSize: \"12px\", marginTop: \"4px\" }}>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>RTSP URL</label>\r\n        <div className=\"url-group\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"rtspUrl\"\r\n            value={formData.rtspUrl}\r\n            onChange={handleChange}\r\n            placeholder=\"rtsp://admin:password@192.168.x.x:554/...\"\r\n            required\r\n            readOnly\r\n            style={{ backgroundColor: \"#f5f5f5\", cursor: \"not-allowed\" }}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            className=\"refresh-btn\"\r\n            onClick={handleRefreshUrl}\r\n            title=\"Generate RTSP URL\"\r\n          >\r\n            <svg className=\"refresh-icon\" viewBox=\"0 0 24 24\">\r\n              <path\r\n                fill=\"currentColor\"\r\n                d=\"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={`status-message-area ${testStatus ? 'has-status' : ''}`}>\r\n        {testStatus && (\r\n          <div className=\"status-message-box\">\r\n            {testStatus.success === true ? (\r\n              <span className=\"status-success\">\r\n                <span style={{ fontSize: '16px' }}>âœ”</span>\r\n                {testStatus.message}\r\n              </span>\r\n            ) : testStatus.success === false ? (\r\n              <span className=\"status-error\">\r\n                <span style={{ fontSize: '16px' }}>âœ˜</span>\r\n                {testStatus.message}\r\n              </span>\r\n            ) : (\r\n              <span>{testStatus.message}</span>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"form-actions\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"test-btn\"\r\n          onClick={handleTest}\r\n          disabled={isTesting || !formData.rtspUrl}\r\n        >\r\n          Test\r\n        </button>\r\n        <button type=\"button\" className=\"cancel-btn\" onClick={onCancel}>\r\n          Cancel\r\n        </button>\r\n        <button type=\"submit\" className=\"save-btn\">\r\n          Save\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CameraForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}